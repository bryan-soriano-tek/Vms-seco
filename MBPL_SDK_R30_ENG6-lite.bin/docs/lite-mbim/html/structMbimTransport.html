<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Linux LITE MBIM: MbimTransport Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Linux LITE MBIM
   &#160;<span id="projectnumber">MBPL_SDK_R30_ENG6</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">MbimTransport Struct Reference<div class="ingroups"><a class="el" href="group__litembim.html">MBIM layer (lite-mbim)</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="MbimTransport_8h_source.html">MbimTransport.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a757e918b97a541432463f8d1a7977e57"><td class="memItemLeft" align="right" valign="top"><a id="a757e918b97a541432463f8d1a7977e57"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>deviceFd</b></td></tr>
<tr class="separator:a757e918b97a541432463f8d1a7977e57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cd4d7760e10c1fd061469c68e32fa52"><td class="memItemLeft" align="right" valign="top"><a id="a0cd4d7760e10c1fd061469c68e32fa52"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>devRemoved</b></td></tr>
<tr class="separator:a0cd4d7760e10c1fd061469c68e32fa52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10852fc1d073ec8c43c55749478b1e3f"><td class="memItemLeft" align="right" valign="top"><a id="a10852fc1d073ec8c43c55749478b1e3f"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>shutdownFd</b></td></tr>
<tr class="separator:a10852fc1d073ec8c43c55749478b1e3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51bd0d0d8a9f1c64e2267d7ff93f0447"><td class="memItemLeft" align="right" valign="top"><a id="a51bd0d0d8a9f1c64e2267d7ff93f0447"></a>
pthread_mutex_t&#160;</td><td class="memItemRight" valign="bottom"><b>writeLock</b></td></tr>
<tr class="separator:a51bd0d0d8a9f1c64e2267d7ff93f0447"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeeb94c6001bfda1df2e7abf1991d7ca"><td class="memItemLeft" align="right" valign="top"><a id="afeeb94c6001bfda1df2e7abf1991d7ca"></a>
pthread_t&#160;</td><td class="memItemRight" valign="bottom"><b>readThread</b></td></tr>
<tr class="separator:afeeb94c6001bfda1df2e7abf1991d7ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafb4173409789bc38b87d89ea6253f3c"><td class="memItemLeft" align="right" valign="top"><a id="aafb4173409789bc38b87d89ea6253f3c"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>transactionId</b></td></tr>
<tr class="separator:aafb4173409789bc38b87d89ea6253f3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa37cfdfadbb73bf283e6b63b6f2be7e"><td class="memItemLeft" align="right" valign="top"><a id="aaa37cfdfadbb73bf283e6b63b6f2be7e"></a>
pthread_mutex_t&#160;</td><td class="memItemRight" valign="bottom"><b>transactionIdLock</b></td></tr>
<tr class="separator:aaa37cfdfadbb73bf283e6b63b6f2be7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad728f3eb92685e80a7d10f8befde7f68"><td class="memItemLeft" align="right" valign="top"><a id="ad728f3eb92685e80a7d10f8befde7f68"></a>
<a class="el" href="structMbimTransaction.html">MbimTransaction</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>transactionList</b></td></tr>
<tr class="separator:ad728f3eb92685e80a7d10f8befde7f68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0956f04b4627340d19fe502af7b612f7"><td class="memItemLeft" align="right" valign="top"><a id="a0956f04b4627340d19fe502af7b612f7"></a>
pthread_mutex_t&#160;</td><td class="memItemRight" valign="bottom"><b>transactionListLock</b></td></tr>
<tr class="separator:a0956f04b4627340d19fe502af7b612f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9efbf04a8eaf18c1e16cfb76edae200"><td class="memItemLeft" align="right" valign="top"><a id="ad9efbf04a8eaf18c1e16cfb76edae200"></a>
struct MultiFragmentMessage *&#160;</td><td class="memItemRight" valign="bottom"><b>pIncomingMessage</b></td></tr>
<tr class="separator:ad9efbf04a8eaf18c1e16cfb76edae200"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1ae2bee7ce0d4a7931a8db7a126bd90"><td class="memItemLeft" align="right" valign="top"><a id="aa1ae2bee7ce0d4a7931a8db7a126bd90"></a>
<a class="el" href="structMbimIndicator.html">MbimIndicator</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>indicatorList</b></td></tr>
<tr class="separator:aa1ae2bee7ce0d4a7931a8db7a126bd90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa77a731735a5178928b94a093b42afc7"><td class="memItemLeft" align="right" valign="top"><a id="aa77a731735a5178928b94a093b42afc7"></a>
pthread_mutex_t&#160;</td><td class="memItemRight" valign="bottom"><b>indicatorListLock</b></td></tr>
<tr class="separator:aa77a731735a5178928b94a093b42afc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04fb2fa24ba8a45ec87a95b5c8bad76e"><td class="memItemLeft" align="right" valign="top"><a id="a04fb2fa24ba8a45ec87a95b5c8bad76e"></a>
<a class="el" href="group__litembim.html#gab30aa52f7174f0fa1b0af62cee2c5bce">MBIM_TRANSPORT_ERR_CALLBACK</a>&#160;</td><td class="memItemRight" valign="bottom"><b>pErrCallback</b></td></tr>
<tr class="separator:a04fb2fa24ba8a45ec87a95b5c8bad76e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa94c145c712ac26aaa42737239d87421"><td class="memItemLeft" align="right" valign="top"><a id="aa94c145c712ac26aaa42737239d87421"></a>
void *&#160;</td><td class="memItemRight" valign="bottom"><b>pErrCallbackContext</b></td></tr>
<tr class="separator:aa94c145c712ac26aaa42737239d87421"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11ba2faac121b535b9c25fbea4900917"><td class="memItemLeft" align="right" valign="top"><a id="a11ba2faac121b535b9c25fbea4900917"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>initRetry</b></td></tr>
<tr class="separator:a11ba2faac121b535b9c25fbea4900917"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad77a4854495d6176511a71f2fe1ae62a"><td class="memItemLeft" align="right" valign="top"><a id="ad77a4854495d6176511a71f2fe1ae62a"></a>
time_t&#160;</td><td class="memItemRight" valign="bottom"><b>timeOut</b></td></tr>
<tr class="separator:ad77a4854495d6176511a71f2fe1ae62a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This structure abstracts a MBIM transport layer. It is responsible for applying MBIM headers to packets destined for MBIM device services and forwarding them to the device. It is responsible for receiving MBIM packets from the device. On the basis of MBIM headers, it assembles multi-fragment responses and indications and delivers them back to user.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">deviceFd</td><td><ul>
<li>File descriptor of device.</li>
</ul>
</td></tr>
    <tr><td class="paramname">devRemoved</td><td><ul>
<li>Flag indicating device has been removed.</li>
</ul>
</td></tr>
    <tr><td class="paramname">shutdownFd</td><td><ul>
<li>Event descriptor. Used to signal read thread to terminate.</li>
</ul>
</td></tr>
    <tr><td class="paramname">writeLock</td><td><ul>
<li>Provides mutual exclusion for write operations.</li>
</ul>
</td></tr>
    <tr><td class="paramname">readThread</td><td><ul>
<li>Thread responsible for reading from device.</li>
</ul>
</td></tr>
    <tr><td class="paramname">transactionId</td><td><ul>
<li>MBIM transaction ID. Upper limit 0xffffffff. Never 0. Increments for each transaction.</li>
</ul>
</td></tr>
    <tr><td class="paramname">transactionIdLock</td><td><ul>
<li>Mutex to make transactionId access thread-safe.</li>
</ul>
</td></tr>
    <tr><td class="paramname">transactionList</td><td><ul>
<li>Head of linked list of outstanding transactions.</li>
</ul>
</td></tr>
    <tr><td class="paramname">transactionListLock</td><td><ul>
<li>Provides thread safety for the transaction list.</li>
</ul>
</td></tr>
    <tr><td class="paramname">pIncomingMessage</td><td><ul>
<li>Private workspace to assemble incoming information fragments.</li>
</ul>
</td></tr>
    <tr><td class="paramname">indicatorList</td><td><ul>
<li>Head of linked list of indicators which are called when MBIM indications are received.</li>
</ul>
</td></tr>
    <tr><td class="paramname">indicatorListLock</td><td><ul>
<li>Provides thread safety for the indicators list.</li>
</ul>
</td></tr>
    <tr><td class="paramname">pErrCallback</td><td><ul>
<li>Callback function called by <a class="el" href="structMbimTransport.html">MbimTransport</a> when an error has occurred</li>
</ul>
</td></tr>
    <tr><td class="paramname">pErrCallbackContext</td><td><ul>
<li>User context for <a class="el" href="structMbimTransport.html">MbimTransport</a> error callback </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
</div></div><!-- contents -->
<hr size="1">
<address style="text-align: right;"><small>
Copyright (c) 2011-2020 Sierra Wireless, Inc.  All rights reserved</small></address>
</body>
</html>
